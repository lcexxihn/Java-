# 过期时间（expire）

## 如何删除

定期删除 + 惰性删除

* 定期删除

  redis 默认是每隔 100ms 就 **随机** 抽取一些设置了过期时间的 key，检查其是否过期，如果过期就删除。

  为什么要随机呢？你想一想假如 redis 存了几十万个 key ，每隔 100ms 就遍历所有设置过期时间的 key 的话，就会给 CPU 带来很大的负载！

* 惰性删除：

  定期删除可能会导致很多过期 key 到了时间并没有被删除掉。
  
  只有当访问一个key时，才会判断该key是否已过期，过期则清除。
