# 大表优化

1. 限定数据的范围

   务必禁止不带任何限制数据范围条件的查询语句。比如：我们当用户在查询订单历史的时候，我们可以控制在一个月的范围内

2. 读/写分离

   经典的数据库拆分方案，主库负责写，从库负责读

3. 垂直分区

   根据数据库里面数据表的相关性进行拆分。

   简单来说垂直拆分是指数据表列的拆分，把一张列比较多的表拆分为多张表。

   * 垂直拆分的优点： 可以使得列数据变小，在查询时减少读取的Block数，减少I/O次数。此外，垂直分区可以简化表的结构，易于维护
   * 垂直拆分的缺点： 主键会出现冗余，需要管理冗余列，并会引起Join操作，可以通过在应用层进行Join来解决。此外，垂直分区会让事务变得更加复杂

4. 水平分区

   保持数据表结构不变，通过某种策略存储数据分片。这样每一片数据分散到不同的表或者库中，达到了分布式的目的。 水平拆分可以支撑非常大的数据量。
