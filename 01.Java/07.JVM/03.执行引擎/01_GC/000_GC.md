# 垃圾回收（Garbage Collection，GC）

## 什么是GC

对内存堆中已经死亡的或者长时间没有使用的对象进行清除和回收。

## 为什么要GC

内存处理是编程人员容易出现问题的地方，忘记或者错误的内存回收会导致程序或系统的不稳定甚至崩溃，Java 提供的 GC 功能可以自动监测对象是否超过作用域从而达到自动回收内存的目的，Java 语言没有提供释放已分配内存的显示操作方法。

优点：

* 防止内存泄露
* 有效的使用可使用的内存

## 判断对象是否可以被回收

* 引用计数算法（Reachability Counting）

  在对象头中分配一个空间来保存该对象被引用的次数（Reference Count）。有对象引用时计数器 +1，引用被释放时计数 -1，当计数器为 0 时就可以被回收。
  
  缺点：不能解决循环引用的问题

* 可达性分析算法（Reachability Analysis）

  从 GC Roots 开始向下搜索，搜索所走过的路径（引用链）。当一个对象到 GC Roots 没有任何引用链相连时，则证明此对象是可以被回收的。

[参考](https://mp.weixin.qq.com/s/lXC3IiVanfQJb8qi14XynQ)
