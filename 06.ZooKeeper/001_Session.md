# Session（会话）

## 简介

Session 指的是 ZooKeeper 客户端与服务器会话。

客户端启动的时候，首先会与服务器建立一个 TCP 连接，从第一次连接建立开始，客户端会话的生命周期也开始了。

通过这个连接，客户端能够：

* 通过 **心跳检测** 与服务器保持会话
* 向 Zookeeper 服务器发送请求并接受响应
* 接收来自服务器的 Watch 事件通知

## sessionTimeout

Session 的 sessionTimeout 用来设置一个客户端会话的超时时间。

当由于各种原因（服务器压力太大、网络故障、客户端主动断开连接等）导致客户端连接断开时，**只要在 sessionTimeout 规定的时间内能够重新连接上集群中任意一台服务器，那么之前创建的会话仍然有效。**

## sessionID

在为客户端创建会话之前，服务器首先会为每个客户端都分配一个 sessionID。

由于 sessionID 是 Zookeeper 会话的一个重要标识，许多与会话相关的运行机制都是基于这个 sessionID 的，因此，无论是哪台服务器为客户端分配的 sessionID，都务必保证 **全局唯一**。
